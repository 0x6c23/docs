<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Token Vault | Metaplex Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.metaplex.com/architecture/deep_dive/token_vault"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Token Vault | Metaplex Docs"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.metaplex.com/architecture/deep_dive/token_vault"><link data-react-helmet="true" rel="alternate" href="https://docs.metaplex.com/architecture/deep_dive/token_vault" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.metaplex.com/architecture/deep_dive/token_vault" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.dcb47f2e.css">
<link rel="preload" href="/assets/js/runtime~main.02cae5ea.js" as="script">
<link rel="preload" href="/assets/js/main.b8856a0c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/meta-white.svg" alt="Metaplex logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/meta-black.svg" alt="Metaplex logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Metaplex Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/metaplex-foundation/metaplex/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">About</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/nft-standard">Token Metadata Standard</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Architecture</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/overview">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/contracts">The Contracts</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/basic_flow">Basic Single Item Auction End To End</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Deep Dive</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/deep_dive/overview">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/architecture/deep_dive/token_vault">Token Vault</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/deep_dive/auction">Auction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/deep_dive/metaplex">Metaplex</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overviews</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Create a Store</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Create a Candy Machine</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Airdrops</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/community">Community Docs</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/stability">Stability</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/security-policy">Security Policy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/contact">Contact Us</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Token Vault</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>The Token Vault serves two purposes in the Metaplex ecosystem: Storing tokens for safe-keeping for the Auction Manager, and as a fractionalization service for NFTs. It has two primary concepts, that of the Vault and of the Safety Deposit Box. A Vault can have any number of Safety Deposit Boxes, one per unique mint being stored. A Vault goes through many phases in life-cycle, but the two important ones are when it&#x27;s <strong>Activated</strong> and when it is <strong>Combined</strong>. When it is <strong>Activated</strong>, new fractional shares can be minted and distributed for partial ownership, and when it is <strong>Combined</strong>, fractional owners can burn their shares in exchange for remuneration and the vault authority can retrieve the stored tokens in the Vault.</p><p>Below is the Rust state stored on chain:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#[repr(C)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Clone, BorshSerialize, BorshDeserialize, PartialEq)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub enum Key {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Uninitialized,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    SafetyDepositBoxV1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ExternalAccountKeyV1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    VaultV1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[repr(C)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Clone, BorshSerialize, BorshDeserialize, PartialEq)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub enum VaultState {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Inactive,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Active,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Combined,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Deactivated,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[repr(C)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Clone, BorshSerialize, BorshDeserialize)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct Vault {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub key: Key,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Store token program used</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub token_program: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Mint that produces the fractional shares</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub fraction_mint: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Authority who can make changes to the vault</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub authority: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// treasury where fractional shares are held for redemption by authority</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub fraction_treasury: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// treasury where monies are held for fractional share holders to redeem(burn) shares once buyout is made</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub redeem_treasury: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Can authority mint more shares from fraction_mint after activation</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub allow_further_share_creation: bool,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Must point at an ExternalPriceAccount, which gives permission and price for buyout.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub pricing_lookup_address: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// In inactive state, we use this to set the order key on Safety Deposit Boxes being added and</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// then we increment it and save so the next safety deposit box gets the next number.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// In the Combined state during token redemption by authority, we use it as a decrementing counter each time</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The authority of the vault withdrawals a Safety Deposit contents to count down how many</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// are left to be opened and closed down. Once this hits zero, and the fraction mint has zero shares,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// then we can deactivate the vault.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub token_type_count: u8,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub state: VaultState,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Once combination happens, we copy price per share to vault so that if something nefarious happens</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// to external price account, like price change, we still have the math &#x27;saved&#x27; for use in our calcs</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub locked_price_per_share: u64,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[repr(C)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Clone, BorshSerialize, BorshDeserialize)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct SafetyDepositBox {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Please note if you change this struct, be careful as we read directly off it</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // in Metaplex to avoid serialization costs...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Each token type in a vault has it&#x27;s own box that contains it&#x27;s mint and a look-back</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub key: Key,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Key pointing to the parent vault</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub vault: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// This particular token&#x27;s mint</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub token_mint: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Account that stores the tokens under management</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub store: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// the order in the array of registries</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub order: u8,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[repr(C)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Clone, BorshSerialize, BorshDeserialize)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct ExternalPriceAccount {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub key: Key,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub price_per_share: u64,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Mint of the currency we are pricing the shares against, should be same as redeem_treasury.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Most likely will be USDC mint most of the time.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub price_mint: Pubkey,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Whether or not combination has been allowed for this vault.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub allowed_to_combine: bool,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The instruction set for the vault can be found here: <a href="https://github.com/metaplex-foundation/metaplex/blob/master/rust/token-vault/program/src/instruction.rs" target="_blank" rel="noopener noreferrer">https://github.com/metaplex-foundation/metaplex/blob/master/rust/token-vault/program/src/instruction.rs</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="types"></a>Types<a class="hash-link" href="#types" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="vault"></a>Vault<a class="hash-link" href="#vault" title="Direct link to heading">#</a></h3><p>The Big Kahuna and namesake of this contract, the Vault is really a container of many concepts. The Vault can be used without any fractional share emissions as a kind of escrow service for many different tokens of different mint types, and indeed, this is what Metaplex uses it for when performing Auctions. However it can also be used to provide partial ownership of NFTs to interested investors. Let&#x27;s break down the keys in the Vault&#x27;s state one by one.</p><p><strong>Fractional shares:</strong> It points at a <code>fractional_mint</code> and <code>fractional_treasury</code>, which allows the vault authority to mint new fractional shares to a treasury account before (or optionally after) <strong>Activation</strong> of the vault. Shares inside the treasury don&#x27;t count towards the cost of <strong>Combining</strong> the vault.</p><p><strong>Redeem treasury:</strong> This account is used to hold in escrow the funds used to pay off fractional shareholders when the vault authority wishes to <strong>Combine</strong> the vault and regain possession of the stored assets inside. The vault authority has to pay shares_in_circulation*price_of_shares into this redeem treasury. The mint of the treasury is completely decidable by the vault authority, we make no opinions on that.</p><p><strong>Pricing Lookup Address:</strong> This is a pointer to an ExternalLookupAccount, which while its struct is defined by the Token Vault program, the account itself does not need to be owned by the vault program or anything within it. It is meant to be an external pricing oracle that is independent of the vault authority or vault that provides pricing data on the fractional share price so that the fractional share owners get a fair buyout by the vault authority.</p><p>Token Vaults do not have PDA addresses.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="safety-deposit-box"></a>Safety Deposit Box<a class="hash-link" href="#safety-deposit-box" title="Direct link to heading">#</a></h3><p>A safety deposit box keeps track of the token account containing the tokens, its vault, and what order in the vault it maintains. If it was inserted 3rd, it&#x27;s order is 2 (0-based.) It&#x27;s a pretty simple setup. And yes, you should be aware the safety deposit box doesn&#x27;t <em>actually</em> store any tokens - it contains a <code>store</code> key that points to an spl-token account that contains the tokens. It&#x27;s more of a foreign key join table between the vault and the store.</p><p>Safety Deposit Boxes always have PDA addresses of type <code>[&#x27;vault&#x27;, vault_key, mint_key]</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="external-price-account"></a>External Price Account<a class="hash-link" href="#external-price-account" title="Direct link to heading">#</a></h3><p>The External Price Account is meant to be used as an external oracle. It is provided to a Vault on initialization and doesn&#x27;t need to be owned or controlled by the vault authority (though it can be.) It can provide data on the <code>price_per_share</code> of fractional shares, whether or not the vault authority is currently allowed to <strong>Combine</strong> the vault and reclaim the contents, and what the <code>price_mint</code> of the vault is.</p><p>ExternalPriceAccounts do not have PDA addresses.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="concepts"></a>Concepts<a class="hash-link" href="#concepts" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="vault-state-machine"></a>Vault State Machine<a class="hash-link" href="#vault-state-machine" title="Direct link to heading">#</a></h3><p>A Vault begins its journey in the <strong>Inactive</strong> state. It is in this state that tokens can be added, and fractional shares can be minted into the fractional treasury. The idea is this phase is the &quot;prep&quot; where we are getting the Vault ready for use as an escrow or as a holding corporation for fractional ownership of NFTs.</p><p>Once the vault is <strong>Activated</strong>, the Vault is closed, and the vault authority may <em>not</em> remove the tokens from the Vault. Furthermore, no new fractional shares may be minted unless during initialization the special <code>allow_further_share_creation</code> boolean was set. Some fractional share owners may not be too enthused about buying into a vault only to be diluted later, so we make this a one-time thing during initialization where the vault authority gets to choose what kind of vault it gets to be. The vault authority <em>can</em> however, remove shares from the treasury and give them to whomever they want, or start a dex with them, or an AMM, or what have you. These shares represent partial ownership of the vault now!</p><p>Let&#x27;s now say that the vault authority now wants to regain access to the Vault&#x27;s contents. To do this, first, the ExternalPriceAccount tied to the vault needs to have <code>allowed_to_combine</code> set to true. If this is the case, the vault authority can then <strong>Combine</strong> the Vault, providing a token account with enough tokens to pay off all outstanding fractional share holders to the Vault. The Vault will drain this account to the <code>redeem_treasury</code> and the Vault will move to the <strong>Combined</strong> state. The Vault will use the <code>price_per_share</code> on the ExternalPriceAccount for this calculation. If no shares are outstanding, this <strong>Combination</strong> operation is free. During <strong>Combination</strong>, the vault authority also has the option to transmit vault authority to a new authority. Also note that all shares remaining in the fractional treasury are burned in this step.</p><p>Once <strong>Combined</strong>, the Vault&#x27;s contents can now be emptied by the vault authority, and fractional share owners can redeem (and burn) their fractional share tokens for tokens from the <code>redeem_treasury</code>. When all tokens in all safety deposit boxes have been removed, and all fractional tokens have been burned, the Vault will automatically move to the <strong>Deactivated</strong> state.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/metaplex/docs/tree/main/docs/architecture/deep_dive/token_vault.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/architecture/deep_dive/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/architecture/deep_dive/auction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Auction Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#types" class="table-of-contents__link">Types</a><ul><li><a href="#vault" class="table-of-contents__link">Vault</a></li><li><a href="#safety-deposit-box" class="table-of-contents__link">Safety Deposit Box</a></li><li><a href="#external-price-account" class="table-of-contents__link">External Price Account</a></li></ul></li><li><a href="#concepts" class="table-of-contents__link">Concepts</a><ul><li><a href="#vault-state-machine" class="table-of-contents__link">Vault State Machine</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/RfzFD9g9WE" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/metaplex" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/metaplex-foundation/metaplex" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Metaplex</div></div></div></footer></div>
<script src="/assets/js/runtime~main.02cae5ea.js"></script>
<script src="/assets/js/main.b8856a0c.js"></script>
</body>
</html>