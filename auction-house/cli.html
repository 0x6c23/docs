<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-213985918-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Metaplex Docs" href="/opensearch.xml"><title data-react-helmet="true">AuctionHouse CLI | Metaplex Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.metaplex.com/auction-house/cli"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="AuctionHouse CLI | Metaplex Docs"><meta data-react-helmet="true" name="description" content="Prerequisites"><meta data-react-helmet="true" property="og:description" content="Prerequisites"><link data-react-helmet="true" rel="icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.metaplex.com/auction-house/cli"><link data-react-helmet="true" rel="alternate" href="https://docs.metaplex.com/auction-house/cli" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.metaplex.com/auction-house/cli" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://ONUK0F738E-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a562b75c.css">
<link rel="preload" href="/assets/js/runtime~main.f8c1bbdd.js" as="script">
<link rel="preload" href="/assets/js/main.533b3bd6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/meta-white.svg" alt="Metaplex logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/meta-black.svg" alt="Metaplex logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Metaplex Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/metaplex-foundation/metaplex/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/programs/understanding-programs">Programs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/architecture/overview">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/overviews/metaplex_overview">Overviews</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/auction-house/definition">AuctionHouse</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/auction-house/definition">What is AuctionHouse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/auction-house/getting_started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/auction-house/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/auction-house/cli">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/auction-house/roadmap">Roadmap</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/candy-machine-v1/introduction">Candy Machine v1</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/candy-machine-v2/introduction">Candy Machine v2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/storefront/introduction">Metaplex Storefront</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/sugar/introduction">Sugar</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/sdk/js/getting-started">SDKs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/fair-launch/introduction">Fair Launch</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/airdrops/create-gumdrop">Airdrops</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/burn-token">Burn Token</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/community">Community Docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mint-lists">NFT Hash Lists</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/stability">Stability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/security-policy">Security Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contact">Contact Us</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AuctionHouse CLI</h1></header><h3 class="anchor anchorWithStickyNavbar_31ik" id="prerequisites">Prerequisites<a aria-hidden="true" class="hash-link" href="#prerequisites" title="Direct link to heading">â€‹</a></h3><ul><li><code>ts-node</code></li><li><code>git</code></li><li><code>yarn</code></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="setup">Setup<a aria-hidden="true" class="hash-link" href="#setup" title="Direct link to heading">â€‹</a></h3><p>In order to get started with the AuctionHouse CLI please follow these steps.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/metaplex-foundation/metaplex.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd metaplex</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note: By default you will be using the latest code on the tip of the <code>master</code> branch.  If instead you want to use a specific release, you check it out now (for example, <code>git checkout v1.1.1</code>).</p><p>Then:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd js &amp;&amp; yarn install &amp;&amp; yarn bootstrap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd packages/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Once you have cloned the repo and installed packages, make sure you have a local <code>Keypair</code> setup. If you need help with that see these guides.</p><ul><li><a href="https://docs.solana.com/cli/install-solana-cli-tools" target="_blank" rel="noopener noreferrer">https://docs.solana.com/cli/install-solana-cli-tools</a></li><li><a href="https://docs.solana.com/wallet-guide/file-system-wallet" target="_blank" rel="noopener noreferrer">https://docs.solana.com/wallet-guide/file-system-wallet</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="running-commands">Running Commands<a aria-hidden="true" class="hash-link" href="#running-commands" title="Direct link to heading">â€‹</a></h3><p>To run commands you will use
<code>ts-node src/ts-node src/auction-house-cli.ts</code></p><h4 class="anchor anchorWithStickyNavbar_31ik" id="help">Help<a aria-hidden="true" class="hash-link" href="#help" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/ts-node src/auction-house-cli.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage: auction-house-cli [options] [command]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-V, --version                     output the version number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-h, --help                        display help for command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Commands:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show_escrow [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withdraw [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sell [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withdraw_from_treasury [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withdraw_from_fees [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cancel [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execute_sale [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">buy [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deposit [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create_auction_house [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">update_auction_house [options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">help [command]                    display help for command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="create">Create<a aria-hidden="true" class="hash-link" href="#create" title="Direct link to heading">â€‹</a></h4><p>Creates an Auction House</p><p>See the command help with</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts help create_auction_house</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Find your current Keypair, lets say it lives at <code>~/mywallet.key</code> or on windows <code>C:\Users\windowsuser\mywallet.key</code>. To create an Auction house you will run.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts create_auction_house --keypair ~/mywallet.key -e devnet -sfbp 1000 -ccsp false -rso false</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In this case we dont need to require signoff because we want to make a fully decentralized auctionhouse. Since we did not specify <code>-tm, --treasury-mint &lt;string&gt;</code> The currency for payment will be SOL.
Also the options below will default to being set as the public key of <code>~/mywallet.key</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">-twd, --treasury-withdrawal-destination &lt;string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-fwd, --fee-withdrawal-destination &lt;string&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>IF all goes well you will see</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">wallet public key: Gsv13oph2i6nkJvNkVfuzkcbHWchz6viUtEg2vsxQMtM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No treasury withdrawal dest detected, using keypair</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No fee withdrawal dest detected, using keypair</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No treasury mint detected, using SOL.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Created auction house HsKwc8dQtm8KLxshw67dwsNePkH6wMXo5Lwn1FuKjVYVS &lt;--- Your auction house key will be different</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Save this key <code>HsKwc8dQtm8KLxshw67dwsNePkH6wMXo5Lwn1FuKjVYVS</code> since it is the public key of the solana account that holds your AuctionHouse. In all subsequent commands you will pass this key with the <code>-ah</code> option.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="show">Show<a aria-hidden="true" class="hash-link" href="#show" title="Direct link to heading">â€‹</a></h3><p>Prints the balances of the fee and treasury wallets configured for the auction house and its current settings options.</p><p>See the command help with</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts help show</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Notice I switched <code>--keypair</code> for <code>-k</code> this is shorthand but works just the same.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts show -k ~/mywallet.key -ah HsKwc8dQtm8KLxshw67dwsNePkH6wMXo5Lwn1FuKjVYVS</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The output will differ but similar to the following.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">No treasury mint detected, using SOL.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Auction House: HsKwc8dQtm8KLxshw67dwsNePkH6wMXo5Lwn1FuKjVYVS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mint: So11111111111111111111111111111111111111112</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Authority: DCDcpZaJUghstQNMHy9VAPnwQe1cGsHq7fbeqkti4kM3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Creator: DCDcpZaJUghstQNMHy9VAPnwQe1cGsHq7fbeqkti4kM3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fee Payer Acct: AcWpR41NPMq73FZUspCiXxoLrJnW7zytgHKY5xqtETkU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Treasury Acct: HFW5CY73qN3XK3qEP7ZFxbpBBkQtipPfPQzaDj3mbbY1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fee Payer Withdrawal Acct: DCDcpZaJUghstQNMHy9VAPnwQe1cGsHq7fbeqkti4kM3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Treasury Withdrawal Acct: DCDcpZaJUghstQNMHy9VAPnwQe1cGsHq7fbeqkti4kM3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fee Payer Bal: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Treasury Bal: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Seller Fee Basis Points: 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Requires Sign Off: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Can Change Sale Price: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AH Bump: 255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AH Fee Bump: 252</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AH Treasury Bump: 254</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="fee-account">Fee Account<a aria-hidden="true" class="hash-link" href="#fee-account" title="Direct link to heading">â€‹</a></h4><p>In the above Show command you see a Fee Payer account.
This account can be used to pay the fees on chain for sales execution, transfers and account creation. For this excercise we will teach you how to fund that account by aridropping some SOL on devnet. Your Auction House fee account is used only when the Auction House authority is signing the transaction. This is usually only in the case of <code>Requires Sign Off</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ solana airdrop 2 AcWpR41NPMq73FZUspCiXxoLrJnW7zytgHKY5xqtETkU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Requesting airdrop of 2 SOL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Signature: 4qYFoD8GN6TZLDjLsqyyt6mhjYEjwKF36LJCDLtL88nTD3y3bFzXmVFHP6Nczf5Dn4GnmBJYtbqV9tN2WbsYynpX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 SOL</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>The <code>solana airdrop</code> command is sometimes unreliable. If the command doesn&#x27;t work, you can use the airdrop tool at <a href="https://solfaucet.com" target="_blank" rel="noopener noreferrer">https://solfaucet.com</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="sell">Sell<a aria-hidden="true" class="hash-link" href="#sell" title="Direct link to heading">â€‹</a></h3><p>Place and NFT UP for sale.</p><p>See the command help with</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts help sell</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Place an NFT for sale by its mint address with the auction house for 1 SOL.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts sell \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -k ~/mywallet.key \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -ah HsKwc8dQtm8KLxshw67dwsNePkH6wMXo5Lwn1FuKjVYVS \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --buy-price 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --mint F7fejo7cT1fRyJxj1W2aWy3aeJz8iqLU9YvbBAzwJGh2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --token-size 1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Output</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">wallet public key: CCJC2s8FDGAs8GqmngE9gviusEuNnkdUwchcYMZ8ZmHB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wallet public key: DCDcpZaJUghstQNMHy9VAPnwQe1cGsHq7fbeqkti4kM3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set 1 F7fejo7cT1fRyJxj1W2aWy3aeJz8iqLU9YvbBAzwJGh2 for sale for 1 from your account with Auction House Ee53kiwLVw5XG98gSLNHoQRi4J22XEhz3zsKYY2ttsb7</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="require-signoff">Require Signoff<a aria-hidden="true" class="hash-link" href="#require-signoff" title="Direct link to heading">â€‹</a></h4><p>If the auction house is setup to require sign off its wallet, as well as the seller are provided to the command.
Do this using the <code>-ak</code> option.</p><p>See the command help with</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts help sell</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In a production scenerio where the keypair for the auction house is stored on a sever managed by the organization hosting the auction house the transaction should be partial signed by the seller from the client then passed to the server for signing by the auction house before submitting to Solana.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="buy">Buy<a aria-hidden="true" class="hash-link" href="#buy" title="Direct link to heading">â€‹</a></h3><p>Place an offer on an NFT by its mint address at some price in SOL when using native SOL as the mint.</p><p>See the command help with</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts help buy</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The buy command is an offer on the NFT and will not result in a sale until the <code>execute_sale</code> action is triggered. This command offers 2 SOL for the NFT.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ts-node src/auction-house-cli.ts buy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -k ~/mywallet.key \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -ah HsKwc8dQtm8KLxshw67dwsNePkH6wMXo5Lwn1FuKjVYVS \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --buy-price 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --token-size 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --mint 7v8kcqCHLih31bp2xwMojGWTMdrcFfzZsYXNbiLiRYgE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wallet public key: 3DikCrEsfAVHv9rXENg2Hdmc16L71EjveQEF4NbSfRak</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wallet public key: DCDcpZaJUghstQNMHy9VAPnwQe1cGsHq7fbeqkti4kM3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Made offer for  2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="execute-sale">Execute Sale<a aria-hidden="true" class="hash-link" href="#execute-sale" title="Direct link to heading">â€‹</a></h3><p>Sell an NFT to a buyer at the price set by the seller.  Note that this currently requires the auction house authority, the buyer, or the seller to be the fee payer and thus sign the transaction.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>In a future version of the AuctionHouse, this action will become <code>permissionless</code>, meaning anyone will be able to call this instruction with two matching (price must match) orders (bid/sell). This will allow your UI to execute the sale once an order matches on the client side or have a backend process or bot finish the process.</p></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ ts-node src/auction-house-cli.ts execute_sale</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -k ~/mywallet.key \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -ah HsKwc8dQtm8KLxshw67dwsNePkH6wMXo5Lwn1FuKjVYVS \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --buy-price 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --mint DCqt9QQ3ot3qv53EhWrYAWFuh4XgSvFJvLRjgsDnhLTp \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --buyer-wallet 3DikCrEsfAVHv9rXENg2Hdmc16L71EjveQEF4NbSfRak \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --seller-wallet CCJC2s8FDGAs8GqmngE9gviusEuNnkdUwchcYMZ8ZmHB \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --token-size 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wallet public key: CCJC2s8FDGAs8GqmngE9gviusEuNnkdUwchcYMZ8ZmHB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wallet public key: DCDcpZaJUghstQNMHy9VAPnwQe1cGsHq7fbeqkti4kM3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accepted 1 DCqt9QQ3ot3qv53EhWrYAWFuh4XgSvFJvLRjgsDnhLTp sale from wallet CCJC2s8FDGAs8GqmngE9gviusEuNnkdUwchcYMZ8ZmHB to 3DikCrEsfAVHv9rXENg2Hdmc16L71EjveQEF4NbSfRak for 2 from your account with Auction House HsKwc8dQtm8KLxshw67dwsNePkH6wMXo5Lwn1FuKjVYVS</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="other-actions">Other Actions<a aria-hidden="true" class="hash-link" href="#other-actions" title="Direct link to heading">â€‹</a></h3><p>Other actions are documented in the CLI and can be found using the <code>help</code> and <code>&lt;command&gt; help</code> subcommand:</p><ul><li><p><em>Cancel</em> - Potential buyer revokes their offer.</p></li><li><p><em>Show Escrow</em> - Print out the balance of an auction house escrow account for a given wallet.</p></li><li><p><em>Withdraw</em> - Transfer funds from user&#x27;s buyer escrow account for the auction house to their wallet.</p></li><li><p><em>Deposit</em> - Add funds to user&#x27;s buyer escrow account for the auction house.</p></li><li><p><em>Withdraw from Fee</em> - Transfer funds from auction house fee wallet to the auction house authority.</p></li><li><p><em>Widthraw from Treasury</em> - Transfer funds from the auction house treasury wallet to the auction house authority.</p></li><li><p><em>Update Auction House</em> - Update any of the auction house settings including it&#x27;s authority or seller fee.</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/metaplex/docs/tree/main/docs/auction-house/cli.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/auction-house/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->FAQ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/auction-house/roadmap"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Roadmap<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#running-commands" class="table-of-contents__link toc-highlight">Running Commands</a></li><li><a href="#show" class="table-of-contents__link toc-highlight">Show</a></li><li><a href="#sell" class="table-of-contents__link toc-highlight">Sell</a></li><li><a href="#buy" class="table-of-contents__link toc-highlight">Buy</a></li><li><a href="#execute-sale" class="table-of-contents__link toc-highlight">Execute Sale</a></li><li><a href="#other-actions" class="table-of-contents__link toc-highlight">Other Actions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/RfzFD9g9WE" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/metaplex" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/metaplex-foundation/metaplex" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Metaplex</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f8c1bbdd.js"></script>
<script src="/assets/js/main.533b3bd6.js"></script>
</body>
</html>